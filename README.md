# arthur-engine-any-agent-tool
Any Agent Tool that calls Arthur Engine for Guardrails


example trace:

```
╭───────────────────────────── CALL_LLM: gpt-4.1 ──────────────────────────────╮
│ ╭─ INPUT ──────────────────────────────────────────────────────────────────╮ │
│ │ [                                                                        │ │
│ │   {                                                                      │ │
│ │     "role": "system",                                                    │ │
│ │     "content": "You are an agent that helps users answer questions. \n   │ │
│ │   },                                                                     │ │
│ │   {                                                                      │ │
│ │     "role": "user",                                                      │ │
│ │     "content": "What is the capital of france?"                          │ │
│ │   }                                                                      │ │
│ │ ]                                                                        │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│ ╭─ OUTPUT ─────────────────────────────────────────────────────────────────╮ │
│ │ [                                                                        │ │
│ │   {                                                                      │ │
│ │     "tool.name": "wrapped_function",                                     │ │
│ │     "tool.args": "{\"prompt\":\"What is the capital of france?\"}"       │ │
│ │   }                                                                      │ │
│ │ ]                                                                        │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│ ╭─ USAGE ──────────────────────────────────────────────────────────────────╮ │
│ │ {                                                                        │ │
│ │   "input_tokens": 460,                                                   │ │
│ │   "output_tokens": 21                                                    │ │
│ │ }                                                                        │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
╰──────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────── EXECUTE_TOOL: wrapped_function ───────────────────────╮
│ ╭─ Input ──────────────────────────────────────────────────────────────────╮ │
│ │ {                                                                        │ │
│ │   "prompt": "What is the capital of france?"                             │ │
│ │ }                                                                        │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│ ╭─ OUTPUT ─────────────────────────────────────────────────────────────────╮ │
│ │ {'inference_id': '9e14d766-41d5-4884-9417-a294db0b8951', 'rule_results': │ │
│ │ [{'id': '5e4003f1-a951-41d0-86d7-08f35031d415', 'name': 'Prompt          │ │
│ │ Injection', 'rule_type': 'PromptInjectionRule', 'scope': 'task',         │ │
│ │ 'result': 'Pass', 'latency_ms': 125, 'details': None}, {'id':            │ │
│ │ '335e1497-e2c8-44a6-a4b2-88cd63caf791', 'name': 'Toxicity', 'rule_type': │ │
│ │ 'ToxicityRule', 'scope': 'task', 'result': 'Pass', 'latency_ms': 54,     │ │
│ │ 'details': {'score': None, 'message': 'No toxicity detected!',           │ │
│ │ 'toxicity_score': 4.757278293254785e-05, 'toxicity_violation_type':      │ │
│ │ 'benign'}}], 'user_id': '2dbde4b4-1e78-4784-ae82-6f79c498a66b'}          │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
╰──────────────────────────────────────────────────────────────────────────────╯
╭───────────────────────────── CALL_LLM: gpt-4.1 ──────────────────────────────╮
│ ╭─ OUTPUT ─────────────────────────────────────────────────────────────────╮ │
│ │ [                                                                        │ │
│ │   {                                                                      │ │
│ │     "tool.name": "wrapped_function",                                     │ │
│ │     "tool.args": "{\"prompt\":\"What is the capital of france?\",\"respo │ │
│ │   }                                                                      │ │
│ │ ]                                                                        │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│ ╭─ USAGE ──────────────────────────────────────────────────────────────────╮ │
│ │ {                                                                        │ │
│ │   "input_tokens": 732,                                                   │ │
│ │   "output_tokens": 31                                                    │ │
│ │ }                                                                        │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
╰──────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────── EXECUTE_TOOL: wrapped_function ───────────────────────╮
│ ╭─ Input ──────────────────────────────────────────────────────────────────╮ │
│ │ {                                                                        │ │
│ │   "prompt": "What is the capital of france?",                            │ │
│ │   "response": "The capital of France is Paris."                          │ │
│ │ }                                                                        │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│ ╭─ OUTPUT ─────────────────────────────────────────────────────────────────╮ │
│ │ {'inference_id': '3d304f02-289d-4a74-8239-db776c0e14dc', 'rule_results': │ │
│ │ [{'id': '335e1497-e2c8-44a6-a4b2-88cd63caf791', 'name': 'Toxicity',      │ │
│ │ 'rule_type': 'ToxicityRule', 'scope': 'task', 'result': 'Pass',          │ │
│ │ 'latency_ms': 27, 'details': {'score': None, 'message': 'No toxicity     │ │
│ │ detected!', 'toxicity_score': 6.224388198461384e-05,                     │ │
│ │ 'toxicity_violation_type': 'benign'}}], 'user_id': None}                 │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
╰──────────────────────────────────────────────────────────────────────────────╯
╭───────────────────────────── CALL_LLM: gpt-4.1 ──────────────────────────────╮
│ ╭─ OUTPUT ─────────────────────────────────────────────────────────────────╮ │
│ │ The capital of France is Paris.                                          │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│ ╭─ USAGE ──────────────────────────────────────────────────────────────────╮ │
│ │ {                                                                        │ │
│ │   "input_tokens": 920,                                                   │ │
│ │   "output_tokens": 8                                                     │ │
│ │ }                                                                        │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
╰──────────────────────────────────────────────────────────────────────────────
```